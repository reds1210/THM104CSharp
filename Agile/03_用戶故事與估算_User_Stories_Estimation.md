# 02. 用戶故事與需求拆解 (User Stories)

在敏捷開發中，我們不寫長篇大論的規格書，而是使用「用戶故事」來描述需求。這有助於團隊聚焦在「使用者的價值」而非「程式技術細節」。

## 1. 用戶故事的格式 (The 3C's)

一個標準的 User Story 包含三個要素：

*   **Card (卡片)**: 寫下故事的標題。
*   **Conversation (對話)**: 開發者與 PO (或指導老師) 討論細節的過程。
*   **Confirmation (確認)**: 驗收標準 (Acceptance Criteria)。

### 標準句型
> **身為一個 (As a)** `<角色 Role>`
> **我想要 (I want)** `<功能/行動 Action>`
> **以便於 (So that)** `<價值/目的 Benefit>`

**範例 (電商專題)**：
*   ❌ 錯誤寫法: "做一個登入頁面，要有 SQL 資料庫連接。" (這是技術規格，不是故事)
*   ✅ 正確寫法: "**身為一個** 顧客，**我想要** 使用 Email 登入網站，**以便於** 儲存我的購物車內容與歷史訂單。"

---

## 2. 什麼是好的故事？ (INVEST 原則)
*   **I (Independent)**: 故事之間盡量獨立，可以單獨開發。
*   **N (Negotiable)**: 細節是可以討論的，不是死的合約。
*   **V (Valuable)**: 對使用者有價值。
*   **E (Estimable)**: 團隊能評估要花多久時間。
*   **S (Small)**: 夠小，最好能在 2-3 天內做完。
*   **T (Testable)**: 必須有明確的驗收標準來測試。

---

## 3. 驗收標準 (Acceptance Criteria)
這就是「做完 (Done)」的定義。

**針對上述登入故事的驗收標準：**
1. 輸入正確帳密，跳轉至首頁，右上角顯示「你好, [名字]」。
2. 輸入錯誤密碼，停留在登入頁，並顯示紅字「帳號或密碼錯誤」。
3. 忘記輸入 Email，欄位變紅框提示。

---

## 4. 敏捷估算：故事點 (Story Points)

在敏捷中，我們不估算「幾小時」，而是估算「相對難度」。

### 為什麼不用「人時 (Hours)」？
*   每個人寫程式的速度不同（高手 1 小時，新手 1 天）。
*   但「相對難度」是一致的。例如：做「登入」比做「搜尋」簡單。

### 費波那契數列 (Fibonacci Sequence)
常用數列：**1, 2, 3, 5, 8, 13, 21...**
*   **1-3 點**: 很簡單，幾小時到一天能做完。
*   **5-8 點**: 中等，需要 2-3 天。
*   **13 點以上**: 太大了 (Epic)！請拆解成更小的故事。

### 規劃撲克 (Planning Poker)
1.  **出牌**: 全組針對一個故事同時出牌（避免被他人影響）。
2.  **討論**: 最高分與最低分的人分享看法。
    *   最高分：「這要串接第三方 API，很難！」
    *   最低分：「我有現成的套件可以用，很快！」
3.  **達成共識**: 重新投票，直到大家點數接近。

---

## 5. 專題實作練習 (Homework)

### 任務：建立 Product Backlog (產品待辦清單)
1.  **腦力激盪**: 團隊坐下來，列出專題所有想做的功能。
2.  **轉化**: 將前 5 個最重要的功能寫成 User Story 格式。
3.  **拆解**: 檢查這些故事是否符合 INVEST 原則？如果有故事太大 (例如：「做後台管理系統」)，請拆解成更小的故事 (例如：「管理員可以新增商品」、「管理員可以下架商品」)。
4.  **排序**: 依照優先順序排列。
